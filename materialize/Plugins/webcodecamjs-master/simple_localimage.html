<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Demo</title>
    </head>
    <body>
        <h3>Simple initalization with default settings</h3>
        <h3>And decode uploaded image.</h3>
        <hr>
        <canvas with="320" height="240"></canvas>
        <hr>
       <input type="button" id="upload" value="upload" onclick="decodeLocalImage();">
        <ul></ul>

        <!-- Js decoder files -->
        <script type="text/javascript" src="js/filereader.js"></script>
        <script type="text/javascript" src="js/qrcodelib.js"></script>
        <script type="text/javascript" src="js/webcodecamjs.js"></script>

        <script type="text/javascript">

            var txt = "innerText" in HTMLElement.prototype ? "innerText" : "textContent";

            var arg = {

                resultFunction: function(result) {

                  // decode code info
                  var Format=result.format;

                  // Code type QR or Bar Code
                  var Codetype=result.code;

                  // Create new element on the dom
                  var aChild = document.createElement('li');

                  // Append the info to the created element
                  aChild[txt] = Format + ': ' + Codetype;

                    // Place the info on the body
                    document.querySelector('body').appendChild(aChild);
                }
            };

            // Code to will be Decoded
            var decoder = new WebCodeCamJS("canvas").init(arg);

            //  Decode Image function
            function decodeLocalImage(){

              // Decode the image
              decoder.decodeLocalImage();
            }

        </script>

    </body>
</html>
